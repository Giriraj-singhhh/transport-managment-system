{"ast":null,"code":"import React from'react';import{Helmet}from'react-helmet-async';import{useQuery}from'react-query';import{busesAPI}from'../../services/api';import{Bus,Plus}from'lucide-react';import LoadingSpinner from'../../components/UI/LoadingSpinner';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminBuses=()=>{var _data$data;const{data,isLoading}=useQuery('adminBuses',()=>busesAPI.getBuses());const buses=(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.buses)||[];if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Manage Buses - Admin\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Manage Buses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"View and manage all buses\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Bus\"})]})]}),buses.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\",children:buses.map(bus=>{var _bus$driverId;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 rounded-full p-3\",children:/*#__PURE__*/_jsx(Bus,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold \".concat(bus.status==='active'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:bus.status})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:bus.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"Bus #\",bus.busNumber]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Capacity: \",bus.capacity,\" seats\"]}),bus.driverId&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Driver: \",((_bus$driverId=bus.driverId)===null||_bus$driverId===void 0?void 0:_bus$driverId.name)||'Assigned']})]})]},bus._id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-12 text-center\",children:[/*#__PURE__*/_jsx(Bus,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No buses found\"})]})]})]});};export default AdminBuses;","map":{"version":3,"names":["React","Helmet","useQuery","busesAPI","Bus","Plus","LoadingSpinner","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminBuses","_data$data","data","isLoading","getBuses","buses","className","children","size","length","map","bus","_bus$driverId","concat","status","name","busNumber","capacity","driverId","_id"],"sources":["C:/Users/Giriraj singh/Desktop/vhh/client/src/pages/Admin/AdminBuses.js"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useQuery } from 'react-query';\r\nimport { busesAPI } from '../../services/api';\r\nimport { Bus, Plus } from 'lucide-react';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AdminBuses = () => {\r\n  const { data, isLoading } = useQuery('adminBuses', () => busesAPI.getBuses());\r\n\r\n  const buses = data?.data?.buses || [];\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Manage Buses - Admin</title>\r\n      </Helmet>\r\n      <div className=\"space-y-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Manage Buses</h1>\r\n            <p className=\"mt-2 text-gray-600\">View and manage all buses</p>\r\n          </div>\r\n          <button className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n            <Plus className=\"h-5 w-5\" />\r\n            <span>Add Bus</span>\r\n          </button>\r\n        </div>\r\n\r\n        {buses.length > 0 ? (\r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {buses.map((bus) => (\r\n              <div key={bus._id} className=\"bg-white rounded-lg shadow p-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"bg-blue-100 rounded-full p-3\">\r\n                    <Bus className=\"h-6 w-6 text-blue-600\" />\r\n                  </div>\r\n                  <span\r\n                    className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                      bus.status === 'active'\r\n                        ? 'bg-green-100 text-green-800'\r\n                        : 'bg-gray-100 text-gray-800'\r\n                    }`}\r\n                  >\r\n                    {bus.status}\r\n                  </span>\r\n                </div>\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{bus.name}</h3>\r\n                <p className=\"text-gray-600 mb-4\">Bus #{bus.busNumber}</p>\r\n                <div className=\"space-y-2 text-sm\">\r\n                  <p className=\"text-gray-600\">Capacity: {bus.capacity} seats</p>\r\n                  {bus.driverId && (\r\n                    <p className=\"text-gray-600\">Driver: {bus.driverId?.name || 'Assigned'}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n            <Bus className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No buses found</h3>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminBuses;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}