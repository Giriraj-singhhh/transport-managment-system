{"ast":null,"code":"import _objectSpread from\"C:/Users/Giriraj singh/Desktop/vhh/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{Helmet}from'react-helmet-async';import{useQuery,useMutation,useQueryClient}from'react-query';import{schedulesAPI,busesAPI,bookingsAPI}from'../../services/api';import{ArrowLeft,Calendar,Bus,MapPin,User}from'lucide-react';import LoadingSpinner from'../../components/UI/LoadingSpinner';import toast from'react-hot-toast';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NewBooking=()=>{var _schedules$data,_schedules$data$sched,_schedules$data2,_schedules$data2$sche,_selectedSchedule$bus,_selectedSchedule$rou;const navigate=useNavigate();const queryClient=useQueryClient();const[step,setStep]=useState(1);const[formData,setFormData]=useState({scheduleId:'',busId:'',travelDate:'',seatNumber:null,passengerDetails:{name:'',phone:'',email:''}});const{data:schedules}=useQuery('schedules',()=>schedulesAPI.getSchedules());const{data:availableSeats,isLoading:seatsLoading}=useQuery(['availableSeats',formData.busId,formData.travelDate],()=>busesAPI.getAvailableSeats(formData.busId,formData.travelDate),{enabled:!!formData.busId&&!!formData.travelDate});const bookingMutation=useMutation(data=>bookingsAPI.createBooking(data),{onSuccess:response=>{toast.success('Booking created successfully!');queryClient.invalidateQueries('userBookings');navigate(\"/app/bookings/\".concat(response.data.booking._id));},onError:error=>{var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to create booking');}});const handleChange=e=>{const{name,value}=e.target;if(name.startsWith('passengerDetails.')){const field=name.split('.')[1];setFormData(_objectSpread(_objectSpread({},formData),{},{passengerDetails:_objectSpread(_objectSpread({},formData.passengerDetails),{},{[field]:value})}));}else{setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));}};const handleScheduleSelect=schedule=>{var _schedule$busId;setFormData(_objectSpread(_objectSpread({},formData),{},{scheduleId:schedule._id,busId:((_schedule$busId=schedule.busId)===null||_schedule$busId===void 0?void 0:_schedule$busId._id)||schedule.busId}));setStep(2);};const handleSeatSelect=seatNumber=>{setFormData(_objectSpread(_objectSpread({},formData),{},{seatNumber}));setStep(3);};const handleSubmit=e=>{e.preventDefault();bookingMutation.mutate(formData);};const selectedSchedule=schedules===null||schedules===void 0?void 0:(_schedules$data=schedules.data)===null||_schedules$data===void 0?void 0:(_schedules$data$sched=_schedules$data.schedules)===null||_schedules$data$sched===void 0?void 0:_schedules$data$sched.find(s=>s._id===formData.scheduleId);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"New Booking - College Transport Management System\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/app/bookings\",className:\"p-2 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"New Booking\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Book your seat in a few simple steps\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(step>=1?'text-blue-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center \".concat(step>=1?'bg-blue-600 text-white':'bg-gray-200'),children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:\"Select Schedule\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-1 mx-4 \".concat(step>=2?'bg-blue-600':'bg-gray-200')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(step>=2?'text-blue-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center \".concat(step>=2?'bg-blue-600 text-white':'bg-gray-200'),children:\"2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:\"Select Seat\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-1 mx-4 \".concat(step>=3?'bg-blue-600':'bg-gray-200')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(step>=3?'text-blue-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center \".concat(step>=3?'bg-blue-600 text-white':'bg-gray-200'),children:\"3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:\"Confirm\"})]})]}),step===1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Select a Schedule\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:schedules===null||schedules===void 0?void 0:(_schedules$data2=schedules.data)===null||_schedules$data2===void 0?void 0:(_schedules$data2$sche=_schedules$data2.schedules)===null||_schedules$data2$sche===void 0?void 0:_schedules$data2$sche.map(schedule=>{var _schedule$routeId,_schedule$busId2;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleScheduleSelect(schedule),className:\"w-full text-left p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:((_schedule$routeId=schedule.routeId)===null||_schedule$routeId===void 0?void 0:_schedule$routeId.name)||'Route'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[schedule.departureTime,\" - \",schedule.arrivalTime]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[((_schedule$busId2=schedule.busId)===null||_schedule$busId2===void 0?void 0:_schedule$busId2.name)||'Bus',\" \\u2022 Seat \",schedule.capacity,\" available\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-gray-900\",children:[\"\\u20B9\",schedule.fare]})})]})},schedule._id);})})]}),step===2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Select Your Seat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(1),className:\"text-blue-600 hover:text-blue-700\",children:\"Change Schedule\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Travel Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"travelDate\",value:formData.travelDate,onChange:handleChange,min:new Date().toISOString().split('T')[0],required:true,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"})]}),formData.travelDate&&/*#__PURE__*/_jsx(\"div\",{children:seatsLoading?/*#__PURE__*/_jsx(LoadingSpinner,{}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 gap-2\",children:Array.from({length:(selectedSchedule===null||selectedSchedule===void 0?void 0:(_selectedSchedule$bus=selectedSchedule.busId)===null||_selectedSchedule$bus===void 0?void 0:_selectedSchedule$bus.capacity)||40},(_,i)=>{var _availableSeats$data,_availableSeats$data$;const seatNum=i+1;const isAvailable=availableSeats===null||availableSeats===void 0?void 0:(_availableSeats$data=availableSeats.data)===null||_availableSeats$data===void 0?void 0:(_availableSeats$data$=_availableSeats$data.availableSeats)===null||_availableSeats$data$===void 0?void 0:_availableSeats$data$.includes(seatNum);const isSelected=formData.seatNumber===seatNum;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>isAvailable&&handleSeatSelect(seatNum),disabled:!isAvailable,className:\"p-3 rounded-lg text-sm font-medium \".concat(isSelected?'bg-blue-600 text-white':isAvailable?'bg-green-100 text-green-800 hover:bg-green-200':'bg-gray-200 text-gray-400 cursor-not-allowed'),children:seatNum},seatNum);})})})]}),step===3&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Confirm Booking\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setStep(2),className:\"text-blue-600 hover:text-blue-700\",children:\"Change Seat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Schedule\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:selectedSchedule===null||selectedSchedule===void 0?void 0:(_selectedSchedule$rou=selectedSchedule.routeId)===null||_selectedSchedule$rou===void 0?void 0:_selectedSchedule$rou.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[selectedSchedule===null||selectedSchedule===void 0?void 0:selectedSchedule.departureTime,\" - \",selectedSchedule===null||selectedSchedule===void 0?void 0:selectedSchedule.arrivalTime]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Travel Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:new Date(formData.travelDate).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Seat Number\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"Seat \",formData.seatNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Fare\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-xl\",children:[\"\\u20B9\",selectedSchedule===null||selectedSchedule===void 0?void 0:selectedSchedule.fare]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Passenger Details\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"passengerDetails.name\",value:formData.passengerDetails.name,onChange:handleChange,required:true,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"passengerDetails.phone\",value:formData.passengerDetails.phone,onChange:handleChange,required:true,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"passengerDetails.email\",value:formData.passengerDetails.email,onChange:handleChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setStep(2),className:\"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:bookingMutation.isLoading,className:\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\",children:bookingMutation.isLoading?'Processing...':'Confirm Booking'})]})]})]})]})]});};export default NewBooking;","map":{"version":3,"names":["React","useState","useNavigate","Helmet","useQuery","useMutation","useQueryClient","schedulesAPI","busesAPI","bookingsAPI","ArrowLeft","Calendar","Bus","MapPin","User","LoadingSpinner","toast","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewBooking","_schedules$data","_schedules$data$sched","_schedules$data2","_schedules$data2$sche","_selectedSchedule$bus","_selectedSchedule$rou","navigate","queryClient","step","setStep","formData","setFormData","scheduleId","busId","travelDate","seatNumber","passengerDetails","name","phone","email","data","schedules","getSchedules","availableSeats","isLoading","seatsLoading","getAvailableSeats","enabled","bookingMutation","createBooking","onSuccess","response","success","invalidateQueries","concat","booking","_id","onError","error","_error$response","_error$response$data","message","handleChange","e","value","target","startsWith","field","split","_objectSpread","handleScheduleSelect","schedule","_schedule$busId","handleSeatSelect","handleSubmit","preventDefault","mutate","selectedSchedule","find","s","children","className","to","map","_schedule$routeId","_schedule$busId2","onClick","routeId","departureTime","arrivalTime","capacity","fare","type","onChange","min","Date","toISOString","required","Array","from","length","_","i","_availableSeats$data","_availableSeats$data$","seatNum","isAvailable","includes","isSelected","disabled","onSubmit","toLocaleDateString"],"sources":["C:/Users/Giriraj singh/Desktop/vhh/client/src/pages/Bookings/NewBooking.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { schedulesAPI, busesAPI, bookingsAPI } from '../../services/api';\r\nimport { ArrowLeft, Calendar, Bus, MapPin, User } from 'lucide-react';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\nimport toast from 'react-hot-toast';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NewBooking = () => {\r\n  const navigate = useNavigate();\r\n  const queryClient = useQueryClient();\r\n  const [step, setStep] = useState(1);\r\n  const [formData, setFormData] = useState({\r\n    scheduleId: '',\r\n    busId: '',\r\n    travelDate: '',\r\n    seatNumber: null,\r\n    passengerDetails: {\r\n      name: '',\r\n      phone: '',\r\n      email: '',\r\n    },\r\n  });\r\n\r\n  const { data: schedules } = useQuery('schedules', () => schedulesAPI.getSchedules());\r\n  const { data: availableSeats, isLoading: seatsLoading } = useQuery(\r\n    ['availableSeats', formData.busId, formData.travelDate],\r\n    () => busesAPI.getAvailableSeats(formData.busId, formData.travelDate),\r\n    { enabled: !!formData.busId && !!formData.travelDate }\r\n  );\r\n\r\n  const bookingMutation = useMutation(\r\n    (data) => bookingsAPI.createBooking(data),\r\n    {\r\n      onSuccess: (response) => {\r\n        toast.success('Booking created successfully!');\r\n        queryClient.invalidateQueries('userBookings');\r\n        navigate(`/app/bookings/${response.data.booking._id}`);\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.response?.data?.message || 'Failed to create booking');\r\n      },\r\n    }\r\n  );\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name.startsWith('passengerDetails.')) {\r\n      const field = name.split('.')[1];\r\n      setFormData({\r\n        ...formData,\r\n        passengerDetails: {\r\n          ...formData.passengerDetails,\r\n          [field]: value,\r\n        },\r\n      });\r\n    } else {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleScheduleSelect = (schedule) => {\r\n    setFormData({\r\n      ...formData,\r\n      scheduleId: schedule._id,\r\n      busId: schedule.busId?._id || schedule.busId,\r\n    });\r\n    setStep(2);\r\n  };\r\n\r\n  const handleSeatSelect = (seatNumber) => {\r\n    setFormData({\r\n      ...formData,\r\n      seatNumber,\r\n    });\r\n    setStep(3);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    bookingMutation.mutate(formData);\r\n  };\r\n\r\n  const selectedSchedule = schedules?.data?.schedules?.find(\r\n    (s) => s._id === formData.scheduleId\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>New Booking - College Transport Management System</title>\r\n      </Helmet>\r\n      <div className=\"max-w-4xl mx-auto space-y-6\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Link\r\n            to=\"/app/bookings\"\r\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <ArrowLeft className=\"h-5 w-5 text-gray-600\" />\r\n          </Link>\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">New Booking</h1>\r\n            <p className=\"text-gray-600\">Book your seat in a few simple steps</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Progress Steps */}\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <div className=\"flex items-center justify-between mb-8\">\r\n            <div className={`flex items-center ${step >= 1 ? 'text-blue-600' : 'text-gray-400'}`}>\r\n              <div\r\n                className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                  step >= 1 ? 'bg-blue-600 text-white' : 'bg-gray-200'\r\n                }`}\r\n              >\r\n                1\r\n              </div>\r\n              <span className=\"ml-2 font-medium\">Select Schedule</span>\r\n            </div>\r\n            <div className={`flex-1 h-1 mx-4 ${step >= 2 ? 'bg-blue-600' : 'bg-gray-200'}`} />\r\n            <div className={`flex items-center ${step >= 2 ? 'text-blue-600' : 'text-gray-400'}`}>\r\n              <div\r\n                className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                  step >= 2 ? 'bg-blue-600 text-white' : 'bg-gray-200'\r\n                }`}\r\n              >\r\n                2\r\n              </div>\r\n              <span className=\"ml-2 font-medium\">Select Seat</span>\r\n            </div>\r\n            <div className={`flex-1 h-1 mx-4 ${step >= 3 ? 'bg-blue-600' : 'bg-gray-200'}`} />\r\n            <div className={`flex items-center ${step >= 3 ? 'text-blue-600' : 'text-gray-400'}`}>\r\n              <div\r\n                className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                  step >= 3 ? 'bg-blue-600 text-white' : 'bg-gray-200'\r\n                }`}\r\n              >\r\n                3\r\n              </div>\r\n              <span className=\"ml-2 font-medium\">Confirm</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Step 1: Select Schedule */}\r\n          {step === 1 && (\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold mb-4\">Select a Schedule</h2>\r\n              <div className=\"space-y-4\">\r\n                {schedules?.data?.schedules?.map((schedule) => (\r\n                  <button\r\n                    key={schedule._id}\r\n                    onClick={() => handleScheduleSelect(schedule)}\r\n                    className=\"w-full text-left p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors\"\r\n                  >\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"font-semibold text-gray-900\">\r\n                          {schedule.routeId?.name || 'Route'}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">\r\n                          {schedule.departureTime} - {schedule.arrivalTime}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          {schedule.busId?.name || 'Bus'} • Seat {schedule.capacity} available\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"font-semibold text-gray-900\">₹{schedule.fare}</p>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Select Seat */}\r\n          {step === 2 && (\r\n            <div>\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h2 className=\"text-xl font-semibold\">Select Your Seat</h2>\r\n                <button\r\n                  onClick={() => setStep(1)}\r\n                  className=\"text-blue-600 hover:text-blue-700\"\r\n                >\r\n                  Change Schedule\r\n                </button>\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Travel Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"travelDate\"\r\n                  value={formData.travelDate}\r\n                  onChange={handleChange}\r\n                  min={new Date().toISOString().split('T')[0]}\r\n                  required\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                />\r\n              </div>\r\n              {formData.travelDate && (\r\n                <div>\r\n                  {seatsLoading ? (\r\n                    <LoadingSpinner />\r\n                  ) : (\r\n                    <div className=\"grid grid-cols-4 gap-2\">\r\n                      {Array.from({ length: selectedSchedule?.busId?.capacity || 40 }, (_, i) => {\r\n                        const seatNum = i + 1;\r\n                        const isAvailable = availableSeats?.data?.availableSeats?.includes(seatNum);\r\n                        const isSelected = formData.seatNumber === seatNum;\r\n                        return (\r\n                          <button\r\n                            key={seatNum}\r\n                            onClick={() => isAvailable && handleSeatSelect(seatNum)}\r\n                            disabled={!isAvailable}\r\n                            className={`p-3 rounded-lg text-sm font-medium ${\r\n                              isSelected\r\n                                ? 'bg-blue-600 text-white'\r\n                                : isAvailable\r\n                                ? 'bg-green-100 text-green-800 hover:bg-green-200'\r\n                                : 'bg-gray-200 text-gray-400 cursor-not-allowed'\r\n                            }`}\r\n                          >\r\n                            {seatNum}\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: Confirm Booking */}\r\n          {step === 3 && (\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h2 className=\"text-xl font-semibold\">Confirm Booking</h2>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setStep(2)}\r\n                  className=\"text-blue-600 hover:text-blue-700\"\r\n                >\r\n                  Change Seat\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                <p className=\"text-sm text-gray-600\">Schedule</p>\r\n                <p className=\"font-semibold\">{selectedSchedule?.routeId?.name}</p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  {selectedSchedule?.departureTime} - {selectedSchedule?.arrivalTime}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                <p className=\"text-sm text-gray-600\">Travel Date</p>\r\n                <p className=\"font-semibold\">\r\n                  {new Date(formData.travelDate).toLocaleDateString()}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                <p className=\"text-sm text-gray-600\">Seat Number</p>\r\n                <p className=\"font-semibold\">Seat {formData.seatNumber}</p>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                <p className=\"text-sm text-gray-600\">Fare</p>\r\n                <p className=\"font-semibold text-xl\">₹{selectedSchedule?.fare}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"font-semibold\">Passenger Details</h3>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Full Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"passengerDetails.name\"\r\n                    value={formData.passengerDetails.name}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Phone Number\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    name=\"passengerDetails.phone\"\r\n                    value={formData.passengerDetails.phone}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Email (Optional)\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"passengerDetails.email\"\r\n                    value={formData.passengerDetails.email}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex space-x-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setStep(2)}\r\n                  className=\"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\r\n                >\r\n                  Back\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={bookingMutation.isLoading}\r\n                  className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {bookingMutation.isLoading ? 'Processing...' : 'Confirm Booking'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewBooking;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}