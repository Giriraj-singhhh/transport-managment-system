{"ast":null,"code":"import React from'react';import{Helmet}from'react-helmet-async';import{useQuery}from'react-query';import{bookingsAPI}from'../../services/api';import{Calendar}from'lucide-react';import LoadingSpinner from'../../components/UI/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminBookings=()=>{var _data$data;const{data,isLoading}=useQuery('adminBookings',()=>bookingsAPI.getBookings());const bookings=(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.bookings)||[];if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Manage Bookings - Admin\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Manage Bookings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"View and manage all bookings\"})]}),bookings.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Booking ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Travel Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:bookings.map(booking=>{var _booking$userId,_booking$userId2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:booking.ticketNumber||booking._id.slice(-8).toUpperCase()}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[(_booking$userId=booking.userId)===null||_booking$userId===void 0?void 0:_booking$userId.firstName,\" \",(_booking$userId2=booking.userId)===null||_booking$userId2===void 0?void 0:_booking$userId2.lastName]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:new Date(booking.travelDate).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:[\"\\u20B9\",booking.amount]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(booking.status==='confirmed'?'bg-green-100 text-green-800':booking.status==='cancelled'?'bg-red-100 text-red-800':'bg-gray-100 text-gray-800'),children:booking.status})})]},booking._id);})})]})})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-12 text-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No bookings found\"})]})]})]});};export default AdminBookings;","map":{"version":3,"names":["React","Helmet","useQuery","bookingsAPI","Calendar","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminBookings","_data$data","data","isLoading","getBookings","bookings","className","children","size","length","map","booking","_booking$userId","_booking$userId2","ticketNumber","_id","slice","toUpperCase","userId","firstName","lastName","Date","travelDate","toLocaleDateString","amount","concat","status"],"sources":["C:/Users/Giriraj singh/Desktop/vhh/client/src/pages/Admin/AdminBookings.js"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useQuery } from 'react-query';\r\nimport { bookingsAPI } from '../../services/api';\r\nimport { Calendar } from 'lucide-react';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\n\r\nconst AdminBookings = () => {\r\n  const { data, isLoading } = useQuery('adminBookings', () => bookingsAPI.getBookings());\r\n\r\n  const bookings = data?.data?.bookings || [];\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Manage Bookings - Admin</title>\r\n      </Helmet>\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Manage Bookings</h1>\r\n          <p className=\"mt-2 text-gray-600\">View and manage all bookings</p>\r\n        </div>\r\n\r\n        {bookings.length > 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Booking ID\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      User\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Travel Date\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Amount\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {bookings.map((booking) => (\r\n                    <tr key={booking._id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {booking.ticketNumber || booking._id.slice(-8).toUpperCase()}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {booking.userId?.firstName} {booking.userId?.lastName}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {new Date(booking.travelDate).toLocaleDateString()}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                        â‚¹{booking.amount}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span\r\n                          className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                            booking.status === 'confirmed'\r\n                              ? 'bg-green-100 text-green-800'\r\n                              : booking.status === 'cancelled'\r\n                              ? 'bg-red-100 text-red-800'\r\n                              : 'bg-gray-100 text-gray-800'\r\n                          }`}\r\n                        >\r\n                          {booking.status}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n            <Calendar className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No bookings found</h3>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminBookings;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}