{"ast":null,"code":"import React from'react';import{Helmet}from'react-helmet-async';import{useAuth}from'../../contexts/AuthContext';import{useQuery}from'react-query';import{schedulesAPI}from'../../services/api';import{Calendar,MapPin,Clock,Navigation}from'lucide-react';import LoadingSpinner from'../../components/UI/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DriverDashboard=()=>{var _todaySchedules$data,_todaySchedules$data$;const{user}=useAuth();const{data:todaySchedules,isLoading}=useQuery('todaySchedules',()=>schedulesAPI.getTodaySchedules(),{enabled:!!user});if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Driver Dashboard - College Transport Management System\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:[\"Welcome, \",user===null||user===void 0?void 0:user.firstName,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Your schedule for today\"})]}),(todaySchedules===null||todaySchedules===void 0?void 0:(_todaySchedules$data=todaySchedules.data)===null||_todaySchedules$data===void 0?void 0:(_todaySchedules$data$=_todaySchedules$data.schedules)===null||_todaySchedules$data$===void 0?void 0:_todaySchedules$data$.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:todaySchedules.data.schedules.map(schedule=>{var _schedule$routeId,_schedule$routeId2,_schedule$routeId3,_schedule$busId;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 rounded-full p-3\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold \".concat(schedule.status==='active'?'bg-green-100 text-green-800':schedule.status==='delayed'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'),children:schedule.status})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:((_schedule$routeId=schedule.routeId)===null||_schedule$routeId===void 0?void 0:_schedule$routeId.name)||'Route'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 mr-2\"}),schedule.departureTime,\" - \",schedule.arrivalTime]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-4 w-4 mr-2\"}),(_schedule$routeId2=schedule.routeId)===null||_schedule$routeId2===void 0?void 0:_schedule$routeId2.startLocation,\" \\u2192 \",(_schedule$routeId3=schedule.routeId)===null||_schedule$routeId3===void 0?void 0:_schedule$routeId3.endLocation]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Navigation,{className:\"h-4 w-4 mr-2\"}),\"Bus: \",((_schedule$busId=schedule.busId)===null||_schedule$busId===void 0?void 0:_schedule$busId.name)||'N/A']})]})]},schedule._id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-12 text-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No schedules for today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"You have no scheduled trips today\"})]})]})]});};export default DriverDashboard;","map":{"version":3,"names":["React","Helmet","useAuth","useQuery","schedulesAPI","Calendar","MapPin","Clock","Navigation","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DriverDashboard","_todaySchedules$data","_todaySchedules$data$","user","data","todaySchedules","isLoading","getTodaySchedules","enabled","className","children","size","firstName","schedules","length","map","schedule","_schedule$routeId","_schedule$routeId2","_schedule$routeId3","_schedule$busId","concat","status","routeId","name","departureTime","arrivalTime","startLocation","endLocation","busId","_id"],"sources":["C:/Users/Giriraj singh/Desktop/vhh/client/src/pages/Driver/DriverDashboard.js"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useQuery } from 'react-query';\r\nimport { schedulesAPI } from '../../services/api';\r\nimport { Calendar, MapPin, Clock, Navigation } from 'lucide-react';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\n\r\nconst DriverDashboard = () => {\r\n  const { user } = useAuth();\r\n\r\n  const { data: todaySchedules, isLoading } = useQuery(\r\n    'todaySchedules',\r\n    () => schedulesAPI.getTodaySchedules(),\r\n    { enabled: !!user }\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Driver Dashboard - College Transport Management System</title>\r\n      </Helmet>\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">\r\n            Welcome, {user?.firstName}!\r\n          </h1>\r\n          <p className=\"mt-2 text-gray-600\">Your schedule for today</p>\r\n        </div>\r\n\r\n        {todaySchedules?.data?.schedules?.length > 0 ? (\r\n          <div className=\"grid md:grid-cols-2 gap-6\">\r\n            {todaySchedules.data.schedules.map((schedule) => (\r\n              <div key={schedule._id} className=\"bg-white rounded-lg shadow p-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"bg-blue-100 rounded-full p-3\">\r\n                    <Calendar className=\"h-6 w-6 text-blue-600\" />\r\n                  </div>\r\n                  <span\r\n                    className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                      schedule.status === 'active'\r\n                        ? 'bg-green-100 text-green-800'\r\n                        : schedule.status === 'delayed'\r\n                        ? 'bg-yellow-100 text-yellow-800'\r\n                        : 'bg-gray-100 text-gray-800'\r\n                    }`}\r\n                  >\r\n                    {schedule.status}\r\n                  </span>\r\n                </div>\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                  {schedule.routeId?.name || 'Route'}\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <Clock className=\"h-4 w-4 mr-2\" />\r\n                    {schedule.departureTime} - {schedule.arrivalTime}\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <MapPin className=\"h-4 w-4 mr-2\" />\r\n                    {schedule.routeId?.startLocation} â†’ {schedule.routeId?.endLocation}\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <Navigation className=\"h-4 w-4 mr-2\" />\r\n                    Bus: {schedule.busId?.name || 'N/A'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n            <Calendar className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No schedules for today</h3>\r\n            <p className=\"text-gray-600\">You have no scheduled trips today</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DriverDashboard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}