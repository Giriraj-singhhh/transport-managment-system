{"ast":null,"code":"import React from'react';import{Helmet}from'react-helmet-async';import{useQuery}from'react-query';import{schedulesAPI}from'../../services/api';import{Calendar,Clock,MapPin,Bus}from'lucide-react';import LoadingSpinner from'../../components/UI/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DriverSchedule=()=>{var _data$data;const{data,isLoading}=useQuery('driverSchedules',()=>schedulesAPI.getSchedules());const schedules=(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.schedules)||[];if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"My Schedule - Driver Dashboard\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"My Schedule\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"View all your assigned schedules\"})]}),schedules.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:schedules.map(schedule=>{var _schedule$routeId,_schedule$routeId2,_schedule$routeId3,_schedule$busId;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 rounded-full p-3\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:((_schedule$routeId=schedule.routeId)===null||_schedule$routeId===void 0?void 0:_schedule$routeId.name)||'Route'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[(_schedule$routeId2=schedule.routeId)===null||_schedule$routeId2===void 0?void 0:_schedule$routeId2.startLocation,\" \\u2192 \",(_schedule$routeId3=schedule.routeId)===null||_schedule$routeId3===void 0?void 0:_schedule$routeId3.endLocation]})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold \".concat(schedule.status==='active'?'bg-green-100 text-green-800':schedule.status==='delayed'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'),children:schedule.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 mr-2\"}),schedule.departureTime,\" - \",schedule.arrivalTime]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Bus,{className:\"h-4 w-4 mr-2\"}),((_schedule$busId=schedule.busId)===null||_schedule$busId===void 0?void 0:_schedule$busId.name)||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-4 w-4 mr-2\"}),\"\\u20B9\",schedule.fare]})]}),schedule.dayOfWeek&&schedule.dayOfWeek.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:\"Days:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:schedule.dayOfWeek.map((day,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm capitalize\",children:day},index))})]})]},schedule._id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-12 text-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No schedules found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"You don't have any assigned schedules yet\"})]})]})]});};export default DriverSchedule;","map":{"version":3,"names":["React","Helmet","useQuery","schedulesAPI","Calendar","Clock","MapPin","Bus","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DriverSchedule","_data$data","data","isLoading","getSchedules","schedules","className","children","size","length","map","schedule","_schedule$routeId","_schedule$routeId2","_schedule$routeId3","_schedule$busId","routeId","name","startLocation","endLocation","concat","status","departureTime","arrivalTime","busId","fare","dayOfWeek","day","index","_id"],"sources":["C:/Users/Giriraj singh/Desktop/vhh/client/src/pages/Driver/DriverSchedule.js"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useQuery } from 'react-query';\r\nimport { schedulesAPI } from '../../services/api';\r\nimport { Calendar, Clock, MapPin, Bus } from 'lucide-react';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\n\r\nconst DriverSchedule = () => {\r\n  const { data, isLoading } = useQuery('driverSchedules', () =>\r\n    schedulesAPI.getSchedules()\r\n  );\r\n\r\n  const schedules = data?.data?.schedules || [];\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>My Schedule - Driver Dashboard</title>\r\n      </Helmet>\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">My Schedule</h1>\r\n          <p className=\"mt-2 text-gray-600\">View all your assigned schedules</p>\r\n        </div>\r\n\r\n        {schedules.length > 0 ? (\r\n          <div className=\"space-y-4\">\r\n            {schedules.map((schedule) => (\r\n              <div key={schedule._id} className=\"bg-white rounded-lg shadow p-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"bg-blue-100 rounded-full p-3\">\r\n                      <Calendar className=\"h-6 w-6 text-blue-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        {schedule.routeId?.name || 'Route'}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        {schedule.routeId?.startLocation} → {schedule.routeId?.endLocation}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <span\r\n                    className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                      schedule.status === 'active'\r\n                        ? 'bg-green-100 text-green-800'\r\n                        : schedule.status === 'delayed'\r\n                        ? 'bg-yellow-100 text-yellow-800'\r\n                        : 'bg-gray-100 text-gray-800'\r\n                    }`}\r\n                  >\r\n                    {schedule.status}\r\n                  </span>\r\n                </div>\r\n                <div className=\"grid md:grid-cols-3 gap-4\">\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <Clock className=\"h-4 w-4 mr-2\" />\r\n                    {schedule.departureTime} - {schedule.arrivalTime}\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <Bus className=\"h-4 w-4 mr-2\" />\r\n                    {schedule.busId?.name || 'N/A'}\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <MapPin className=\"h-4 w-4 mr-2\" />\r\n                    ₹{schedule.fare}\r\n                  </div>\r\n                </div>\r\n                {schedule.dayOfWeek && schedule.dayOfWeek.length > 0 && (\r\n                  <div className=\"mt-4\">\r\n                    <p className=\"text-sm text-gray-500 mb-2\">Days:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {schedule.dayOfWeek.map((day, index) => (\r\n                        <span\r\n                          key={index}\r\n                          className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm capitalize\"\r\n                        >\r\n                          {day}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n            <Calendar className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No schedules found</h3>\r\n            <p className=\"text-gray-600\">You don't have any assigned schedules yet</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DriverSchedule;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}