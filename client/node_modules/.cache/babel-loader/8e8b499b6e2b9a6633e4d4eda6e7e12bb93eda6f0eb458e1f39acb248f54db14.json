{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{Helmet}from'react-helmet-async';import{useQuery}from'react-query';import{routesAPI}from'../../services/api';import{Route,Search,MapPin,Clock,DollarSign}from'lucide-react';import LoadingSpinner from'../../components/UI/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Routes=()=>{var _data$data;const[searchTerm,setSearchTerm]=useState('');const{data,isLoading}=useQuery('routes',()=>routesAPI.getRoutes());const routes=(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.routes)||[];const filteredRoutes=routes.filter(route=>{var _route$name,_route$startLocation,_route$endLocation;return((_route$name=route.name)===null||_route$name===void 0?void 0:_route$name.toLowerCase().includes(searchTerm.toLowerCase()))||((_route$startLocation=route.startLocation)===null||_route$startLocation===void 0?void 0:_route$startLocation.toLowerCase().includes(searchTerm.toLowerCase()))||((_route$endLocation=route.endLocation)===null||_route$endLocation===void 0?void 0:_route$endLocation.toLowerCase().includes(searchTerm.toLowerCase()));});if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Routes - College Transport Management System\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Routes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"View all available routes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search routes...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"})]})}),filteredRoutes.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:filteredRoutes.map(route=>{var _route$fare;return/*#__PURE__*/_jsxs(Link,{to:\"/app/routes/\".concat(route._id),className:\"bg-white rounded-lg shadow hover:shadow-lg transition-shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 rounded-full p-3\",children:/*#__PURE__*/_jsx(Route,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold \".concat(route.status==='active'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:route.status})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:route.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-4 w-4 mr-2\"}),route.startLocation,\" \\u2192 \",route.endLocation]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 mr-2\"}),route.estimatedTime,\" minutes\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-4 w-4 mr-2\"}),\"\\u20B9\",((_route$fare=route.fare)===null||_route$fare===void 0?void 0:_route$fare.base)||'N/A']})]})]},route._id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-12 text-center\",children:[/*#__PURE__*/_jsx(Route,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No routes found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Try adjusting your search\"})]})]})]});};export default Routes;","map":{"version":3,"names":["React","useState","Link","Helmet","useQuery","routesAPI","Route","Search","MapPin","Clock","DollarSign","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Routes","_data$data","searchTerm","setSearchTerm","data","isLoading","getRoutes","routes","filteredRoutes","filter","route","_route$name","_route$startLocation","_route$endLocation","name","toLowerCase","includes","startLocation","endLocation","className","children","size","type","placeholder","value","onChange","e","target","length","map","_route$fare","to","concat","_id","status","estimatedTime","fare","base"],"sources":["C:/Users/Giriraj singh/Desktop/vhh/client/src/pages/Routes/Routes.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useQuery } from 'react-query';\r\nimport { routesAPI } from '../../services/api';\r\nimport { Route, Search, MapPin, Clock, DollarSign } from 'lucide-react';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\n\r\nconst Routes = () => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const { data, isLoading } = useQuery('routes', () => routesAPI.getRoutes());\r\n\r\n  const routes = data?.data?.routes || [];\r\n\r\n  const filteredRoutes = routes.filter(route =>\r\n    route.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    route.startLocation?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    route.endLocation?.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Routes - College Transport Management System</title>\r\n      </Helmet>\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Routes</h1>\r\n          <p className=\"mt-2 text-gray-600\">View all available routes</p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-4\">\r\n          <div className=\"relative\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <Search className=\"h-5 w-5 text-gray-400\" />\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search routes...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {filteredRoutes.length > 0 ? (\r\n          <div className=\"grid md:grid-cols-2 gap-6\">\r\n            {filteredRoutes.map((route) => (\r\n              <Link\r\n                key={route._id}\r\n                to={`/app/routes/${route._id}`}\r\n                className=\"bg-white rounded-lg shadow hover:shadow-lg transition-shadow p-6\"\r\n              >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"bg-blue-100 rounded-full p-3\">\r\n                    <Route className=\"h-6 w-6 text-blue-600\" />\r\n                  </div>\r\n                  <span\r\n                    className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                      route.status === 'active'\r\n                        ? 'bg-green-100 text-green-800'\r\n                        : 'bg-gray-100 text-gray-800'\r\n                    }`}\r\n                  >\r\n                    {route.status}\r\n                  </span>\r\n                </div>\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{route.name}</h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <MapPin className=\"h-4 w-4 mr-2\" />\r\n                    {route.startLocation} → {route.endLocation}\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <Clock className=\"h-4 w-4 mr-2\" />\r\n                    {route.estimatedTime} minutes\r\n                  </div>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <DollarSign className=\"h-4 w-4 mr-2\" />\r\n                    ₹{route.fare?.base || 'N/A'}\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n            <Route className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No routes found</h3>\r\n            <p className=\"text-gray-600\">Try adjusting your search</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}